# ==============================================================================
# OptiVolt CI/CD Pipeline
# Pipeline automatisé pour comparaison Docker, MicroVM et Unikernel
# ==============================================================================

# Variables globales
variables:
  DOTNET_VERSION: "8.0"
  TEST_DURATION: "30"

# Inclusion des fichiers de configuration
include:
  - local: '.gitlab/ci/build.yml'
  - local: '.gitlab/ci/deploy.yml'
  - local: '.gitlab/ci/test.yml'
  - local: '.gitlab/ci/metrics.yml'
  - local: '.gitlab/ci/power.yml'
  - local: '.gitlab/ci/report.yml'

# Définition des stages du pipeline
stages:
  - build           # Compilation et publication du projet
  - deploy          # Déploiement sur les environnements
  - test            # Tests de charge (CPU, API, DB)
  - metrics         # Collecte des métriques système
  - power-monitoring # Monitoring de la consommation électrique
  - report          # Génération du rapport final